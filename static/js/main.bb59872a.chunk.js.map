{"version":3,"sources":["components/exchange-app/exchange-app.reducer.js","components/exchange-app/exchange-app.constant.js","components/currency-value/currency-value.style.js","components/currency-value/currency-value.container.jsx","components/history-list/history-list.style.js","components/history-list/history-list.container.js","components/exchange-app/exchange-app.style.js","components/exchange-app/exchange-app.container.jsx","components/exchange-app/exchange-app.action.js","index.js"],"names":["today","Date","toISOString","slice","currencyState","currencyList","base","selectedDate","currencyValueList","currencyListReducer","state","action","newState","Object","objectSpread","type","toConsumableArray","newCurrencyList","date","StyledCurrencyValue","styled","div","_templateObject","StyledCurrency","_templateObject2","StyledValue","_templateObject3","CurrencyValue","_ref","currency","value","toFixed","react_default","a","createElement","StyledHistoryList","table","history_list_style_templateObject","HistoryList","_useState","useState","_useState2","slicedToArray","spanDate","setSpanDate","_useState3","_useState4","historyData","setHistoryData","_useState5","_useState6","setCurrencyList","_useState7","_useState8","historyList","setHistoryList","useEffect","calcDate","setMonth","getMonth","axios","get","concat","then","_ref2","data","rates","keys","border","map","rate","key","historyKey","number","StyledExchangeApp","exchange_app_style_templateObject","StyledPicker","exchange_app_style_templateObject2","StyledSelect","exchange_app_style_templateObject3","StyledTitle","h1","_templateObject4","ExchangeApp","_useReducer","useReducer","_useReducer2","_useReducer2$","dispatch","length","initCurrencyListAction","getBaseList","updateCurrencyList","onChange","e","target","defaultValue","max","style","padding","selected","columnCount","margin","currencyValuePropList","currency_value_container","renderCurrencyValueList","historyPropList","history_list_container","renderHistoryTable","reactRendersHere","document","querySelector","render","exchange_app_container"],"mappings":"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","file":"static/js/main.bb59872a.chunk.js","sourcesContent":["import { \r\n  CURRENCY_LIST_INIT,\r\n  CURRENCY_LIST_UPDATE_BASE,\r\n  CURRENCY_LIST_UPDATE_DATE,\r\n  CURRENCY_VALUE_LIST_UPDATE,\r\n} from './exchange-app.constant'\r\n\r\nexport const today = new Date().toISOString().slice(0, 10)\r\nexport const currencyState = {\r\n  currencyList: [],\r\n  base: 'GBP',\r\n  selectedDate: today,\r\n  currencyValueList: {},\r\n}\r\n\r\nexport const currencyListReducer = (state, action) => {\r\n  const newState = { ...state }\r\n  switch(action.type) {\r\n    case CURRENCY_LIST_INIT:\r\n      newState.currencyList = [...action.newCurrencyList]\r\n      break\r\n    case CURRENCY_LIST_UPDATE_BASE:\r\n      newState.base = action.base\r\n      break\r\n    case CURRENCY_LIST_UPDATE_DATE:\r\n      newState.selectedDate = action.date\r\n      break\r\n    case CURRENCY_VALUE_LIST_UPDATE:\r\n      newState.currencyValueList = action.currencyValueList\r\n      break\r\n    default:\r\n      return newState\r\n  }\r\n  return newState\r\n}\r\n","export const CURRENCY_LIST_INIT = '[CurrencyList] ==> INIT'\r\nexport const CURRENCY_LIST_UPDATE_BASE = '[CurrencyList] ==> UPDATE_BASE'\r\nexport const CURRENCY_LIST_UPDATE_DATE = '[CurrencyList] ==> UPDATE_DATE'\r\nexport const CURRENCY_VALUE_LIST_UPDATE = '[CurrencyList] ==> UPDATE VALUE LIST'\r\n","import styled from 'styled-components'\r\n\r\nexport const StyledCurrencyValue = styled.div`\r\n  display: flex;\r\n  font-size: 12px;\r\n  justify-content: space-between;\r\n  box-sizing: border-box;\r\n  margin-bottom: 6px;\r\n  min-width: 200px;\r\n  transition: 0.25s;\r\n  &:hover {\r\n    transform: scale(1.04)\r\n  }\r\n`\r\nexport const StyledCurrency = styled.div`\r\n  box-sizing: border-box;\r\n  background-color: #F5D4A3;\r\n  min-width: 50px;\r\n  color: #59554F;\r\n  padding: 5px;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n`\r\n\r\nexport const StyledValue = styled.div`\r\n  font-size: 15px;\r\n  flex-grow: 1;\r\n  padding: 5px;\r\n  margin-right: 0px;\r\n  text-align: right;\r\n  justify-content: center;\r\n  color: white;\r\n  height: 100%;\r\n  background-color: #E4A444;\r\n  font-weight: bold;\r\n  &:hover {\r\n      color:#59554F;\r\n    }\r\n`\r\n","import React from 'react'\r\nimport { StyledCurrencyValue, StyledValue, StyledCurrency } from './currency-value.style';\r\n\r\nconst CurrencyValue = ({ currency, value }) => {\r\n  value = value.toFixed(2)\r\n\r\n  return (\r\n    <StyledCurrencyValue> \r\n      <StyledValue>{value}</StyledValue>\r\n      <StyledCurrency>{currency}</StyledCurrency> \r\n    </StyledCurrencyValue>\r\n  )\r\n}\r\n\r\nexport default CurrencyValue","import styled from 'styled-components'\r\n\r\nexport const StyledHistoryList = styled.table`\r\n  text-align: center;\r\n  color:black;\r\n  font-size: 16px;\r\n \r\n  header {\r\n    font-weight:bold;\r\n    font-size: 20px;\r\n    color: #59554F;\r\n    text-align: left;\r\n    margin-bottom: 10px;\r\n    padding: 5px;\r\n    border: 2px solid #E4A444;\r\n    background-color: #F5D4A3;\r\n  }\r\n\r\n  td {\r\n    padding: 0 5px;\r\n  }\r\n\r\n  tr:nth-child(odd) {\r\n    background-color: #E4A444;\r\n    color:white;\r\n    &:hover {\r\n      color:#59554F;\r\n    }\r\n  }\r\n  \r\n  tr:nth-child(even) {\r\n    background-color: #F5D4A3;\r\n    color:#E4A444;\r\n    &:hover {\r\n      color:#59554F;\r\n    }\r\n  }\r\n`\r\n","import React, {useState, useEffect }from 'react'\r\nimport axios from 'axios'\r\nimport { StyledHistoryList } from './history-list.style'\r\n\r\nconst HistoryList = ({ currency, date }) => {\r\n  \r\n  const [spanDate, setSpanDate] = useState()\r\n  const [historyData, setHistoryData] = useState({})\r\n  const [currencyList, setCurrencyList] = useState([])\r\n  const [historyList, setHistoryList] = useState([])\r\n  \r\n  useEffect(() => {\r\n    const calcDate = new Date(date)\r\n    const spanDate = (new Date(calcDate.setMonth(calcDate.getMonth() - 12)).toISOString()).slice(0,10)\r\n    currency && date && axios\r\n    .get(`https://api.exchangeratesapi.io/history?start_at=${spanDate}&end_at=${date}&base=${currency}`)\r\n    .then(({ data }) => {\r\n      setSpanDate(spanDate)\r\n      setHistoryData(data.rates)\r\n      setCurrencyList(Object.keys(data.rates[Object.keys(data.rates)[0]]))\r\n      setHistoryList(Object.keys(data.rates))\r\n    })\r\n  }, [date, currency])\r\n  \r\n  const format = (number) =>{\r\n    if (number) {\r\n      return number = number.toFixed(2)\r\n    }\r\n    else\r\n      return number\r\n  }\r\n\r\n  return (\r\n    <StyledHistoryList>\r\n    <div>\r\n      <header>Displaying history for {currency} from {spanDate} to {date}</header>\r\n        <section>\r\n          <table border=\"0\">\r\n            <thead>\r\n              <tr>\r\n                <td>DATE</td>\r\n                 {currencyList.map((rate, key) => (\r\n                <td key={key}>{rate}</td>\r\n                ))}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {historyList.map(historyKey => (\r\n                <tr key={historyKey}>\r\n                  <td>{historyKey}</td>\r\n                  {currencyList.map((rate, key) => (\r\n                    <td key={key}>\r\n                      {historyData &&\r\n                        historyData[historyKey] &&\r\n                        format(historyData[historyKey][rate])}\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </section>\r\n    </div>\r\n    </StyledHistoryList>\r\n  )\r\n}\r\n\r\nexport default HistoryList","import styled from 'styled-components'\r\n\r\nexport const StyledExchangeApp = styled.div`\r\n  width: 100%;\r\n`\r\n\r\nexport const StyledPicker = styled.div`\r\n  display:flex;\r\n  margin: 30px 0 30px 0;\r\n  justify-content: left;\r\n`\r\n\r\nexport const StyledSelect = styled.div`\r\nmargin-left: 10px;\r\n`\r\n\r\nexport const StyledTitle = styled.h1`\r\n  padding: 20px;\r\n  text-align: left;\r\n  font-size: 40px;\r\n  color: #59554F;\r\n  background-color: #F5D4A3;\r\n  border: 5px solid #E4A444;\r\n`\r\n","import React, { useEffect, useReducer } from 'react'\r\nimport axios from 'axios'\r\nimport { \r\n  currencyListReducer,\r\n  currencyState,\r\n  today \r\n} from './exchange-app.reducer'\r\nimport { \r\n  updateDateAction,\r\n  updateBaseAction,\r\n  initCurrencyListAction, \r\n  currencyValueListAction,\r\n} from './exchange-app.action'\r\nimport CurrencyValue from '../currency-value';\r\nimport HistoryList from '../history-list';\r\nimport { StyledExchangeApp, StyledTitle, StyledPicker, StyledSelect } from './exchange-app.style';\r\n\r\nconst ExchangeApp = () => {\r\n\r\n  const [{ \r\n    currencyList,\r\n    base,\r\n    selectedDate,\r\n    currencyValueList\r\n  } = currencyState, dispatch ] = useReducer(currencyListReducer, currencyState )\r\n\r\n  const getBaseList = (data) => {\r\n    const newCurrencyList = Object.keys(data.rates)\r\n    dispatch(initCurrencyListAction(newCurrencyList))\r\n  }\r\n\r\n  const updateCurrencyList = ({ rates }) => {\r\n    dispatch(currencyValueListAction(rates))\r\n  }\r\n\r\n  useEffect(() => {\r\n    selectedDate && axios\r\n    .get(`https://api.exchangeratesapi.io/${selectedDate}?base=${base}`)\r\n    .then(({ data }) => {\r\n         !currencyList.length && getBaseList(data)\r\n         updateCurrencyList(data)\r\n         })\r\n  }, [base, selectedDate])\r\n\r\n  const handleBaseCurrencyChange = (e) => {\r\n    const { value } = e.target\r\n    dispatch(updateBaseAction(value))\r\n  }\r\n\r\n  const handleDateChange = (e) => {\r\n    const { value } = e.target \r\n    dispatch(updateDateAction(value))\r\n  }\r\n\r\n  const renderCurrencyList = () => currencyList.map((currency) => \r\n    <option \r\n      key={currency}\r\n      value={currency}\r\n      selected={currency === base}>\r\n      {currency}\r\n    </option>\r\n  )\r\n\r\n  const renderCurrencyValueList = (currencyValueList) => {\r\n    const keysList = Object.keys(currencyValueList)\r\n    return keysList.map((key) => {\r\n      const currencyValuePropList = {\r\n        currency: key,\r\n        value: currencyValueList[key],\r\n      }\r\n      return <CurrencyValue { ...currencyValuePropList } />\r\n    })\r\n  }\r\n\r\n  const renderHistoryTable = (base, selectedDate) => {\r\n    const historyPropList = {\r\n      currency: base,\r\n      date: selectedDate\r\n    }\r\n    return <HistoryList {...historyPropList} />\r\n  }\r\n\r\n  return (\r\n    <StyledExchangeApp>\r\n      <StyledTitle>exchangeRate</StyledTitle>\r\n      <StyledPicker>\r\n        <input\r\n          type=\"date\"\r\n          onChange={handleDateChange}\r\n          defaultValue={today}\r\n          max={today}/>\r\n        <StyledSelect>\r\n          <select \r\n            style={{padding:4}} \r\n            onChange={handleBaseCurrencyChange}>\r\n            {renderCurrencyList()}\r\n          </select>\r\n        </StyledSelect>\r\n      </StyledPicker>\r\n      <div style={{columnCount: 3, margin: 5}}>{renderCurrencyValueList(currencyValueList)}</div>\r\n      <div>{renderHistoryTable(base, selectedDate)}</div>\r\n    </StyledExchangeApp>\r\n  )\r\n}\r\n\r\nexport default ExchangeApp","import { \r\n  CURRENCY_LIST_INIT,\r\n  CURRENCY_LIST_UPDATE_BASE,\r\n  CURRENCY_LIST_UPDATE_DATE, \r\n  CURRENCY_VALUE_LIST_UPDATE,\r\n} from './exchange-app.constant'\r\n\r\nexport const updateDateAction = (date) => ({\r\n  type: CURRENCY_LIST_UPDATE_DATE,\r\n  date\r\n})\r\n\r\nexport const updateBaseAction = (base) => ({\r\n  type: CURRENCY_LIST_UPDATE_BASE,\r\n  base\r\n})\r\n\r\nexport const initCurrencyListAction = (newCurrencyList) => ({\r\n  type: CURRENCY_LIST_INIT,\r\n  newCurrencyList\r\n})\r\n\r\nexport const currencyValueListAction = (currencyValueList) => ({\r\n  type: CURRENCY_VALUE_LIST_UPDATE,\r\n  currencyValueList\r\n})\r\n\r\n","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport ExchangeApp from './components/exchange-app'\r\nimport  './index.css'\r\n\r\nconst reactRendersHere = document.querySelector(\"#react-renders-here\")\r\n\r\nrender(<ExchangeApp/>, reactRendersHere )"],"sourceRoot":""}